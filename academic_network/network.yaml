# Academic Research Network
# 网络配置 - 学术研究多Agent协作系统

network:
  name: "AcademicResearchNetwork"
  mode: "centralized"
  node_id: "academic-hub-1"

  # 传输协议配置
  transports:
    - type: "http"
      config:
        port: 8700
        host: "localhost"
        serve_studio: true
        serve_mcp: true
    - type: "grpc"
      config:
        port: 8600
        max_message_size: 104857600  # 100MB
        compression: "gzip"

  manifest_transport: "http"
  recommended_transport: "grpc"

  # 安全配置
  encryption_enabled: false
  requires_password: false
  default_agent_group: guest

  # 连接管理
  max_connections: 20
  connection_timeout: 30.0
  retry_attempts: 3
  heartbeat_interval: 60
  agent_timeout: 180

  # 消息配置
  message_queue_size: 1000
  message_timeout: 30.0
  message_routing_enabled: true

  # Agent 分组
  agent_groups:
    coordinators:
      description: "协调者 - 分派任务、整合结果"
      metadata:
        permissions: ["create_projects", "delegate_tasks", "communicate_with_users"]
        agents: ["facilitator"]

    experts:
      description: "专家 - 执行具体研究任务"
      metadata:
        permissions: ["execute_tasks", "report_results", "access_documents"]
        agents: ["literature-agent", "critical-thinker", "method-expert"]

    managers:
      description: "管理者 - 变更控制"
      metadata:
        permissions: ["create_pr", "merge_pr", "update_documents"]
        agents: ["pr-manager"]

  # Mod 配置
  mods:
    # 默认工作空间
    - name: "openagents.mods.workspace.default"
      enabled: true
      config:
        custom_events_enabled: true

    # 消息系统
    - name: "openagents.mods.workspace.messaging"
      enabled: true
      config:
        default_channels:
          - name: "general"
            description: "综合讨论"
          - name: "literature"
            description: "文献讨论"
          - name: "methodology"
            description: "方法论讨论"
          - name: "writing"
            description: "写作讨论"
        max_file_size: 10485760  # 10MB
        allowed_file_types: ["txt", "md", "pdf", "png", "jpg"]

    # 项目管理
    - name: "openagents.mods.workspace.project"
      enabled: true
      config:
        max_concurrent_projects: 5
        
        project_templates:
          # 论文修改流程模板
          thesis_modification:
            name: "论文修改流程"
            description: "多专家协作的论文修改工作流"
            agent_groups: ["coordinators", "experts", "managers"]
            context: |
              论文修改工作流：
              
              1. Facilitator 接收用户修改请求
              2. 分析需求，分派给相关专家：
                 - Literature Agent: 查找文献支持
                 - Critical Thinker: 批判性审查
                 - Method Expert: 方法论建议
              3. 专家返回分析结果
              4. Facilitator 整合形成共识
              5. PR Manager 生成变更请求
              
              重要约束：
              ❌ 不直接修改 Draft.md
              ❌ 不凭空捏造文献
              ❌ 所有变更必须通过 PR

          # 文献阅读流程模板
          deep_reading:
            name: "深度阅读流程"
            description: "深入分析文献与研究的关联"
            agent_groups: ["coordinators", "experts"]
            context: |
              深度阅读工作流：
              
              1. 用户提供文献（PDF或MD）
              2. Literature Agent 结构化阅读
              3. Critical Thinker 批判性评估
              4. Method Expert 方法论分析（如需）
              5. Facilitator 整合输出阅读笔记
              
              输出格式：
              - 与 RQ1-RQ3 的关联
              - 可引用材料
              - 批判性评价

          # 学术讨论流程模板
          academic_discussion:
            name: "学术讨论"
            description: "探索性的学术问题讨论"
            agent_groups: ["coordinators", "experts"]
            context: |
              学术讨论工作流：
              
              1. 用户提出问题或话题
              2. Facilitator 分析问题涉及的领域
              3. 相关专家提供观点
              4. Critical Thinker 质疑和挑战
              5. 形成共识或记录分歧
              
              记忆机制：
              - 每次讨论自动提取记忆
              - 检测与已有偏好的冲突
              - 重要洞见记录到 MEMORY.md

# 网络发现配置
network_profile:
  discoverable: false  # 本地开发，不对外发现
  name: "Academic Research Network"
  description: "学术研究多Agent协作系统 - 论文写作、文献管理、批判性分析"
  tags:
    - "academic"
    - "research"
    - "thesis"
    - "collaboration"
  categories:
    - "productivity"
    - "research"
  required_openagents_version: "0.6.13"
  capacity: 10
  authentication:
    type: "none"
  host: "localhost"
  port: 8700

# 全局设置
log_level: "INFO"
data_dir: "./data/academic-network"
runtime_limit: null
shutdown_timeout: 30
