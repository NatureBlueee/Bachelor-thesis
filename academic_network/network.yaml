# Academic Research Network
# 网络配置 - 学术研究多Agent协作系统

network:
  name: "AcademicResearchNetwork"
  mode: "centralized"
  node_id: "academic-hub-1"

  # 传输协议配置
  transports:
    - type: "http"
      config:
        port: 8700
        host: "localhost"
        serve_studio: true
        serve_mcp: true
    - type: "grpc"
      config:
        port: 8600
        max_message_size: 104857600  # 100MB
        compression: "gzip"
        keepalive_time: 60000
        keepalive_timeout: 30000

  manifest_transport: "http"
  recommended_transport: "grpc"

  # 安全配置
  encryption_enabled: false
  requires_password: false
  default_agent_group: guest

  # 发现配置
  discovery_interval: 10
  discovery_enabled: true

  # 连接管理
  max_connections: 20
  connection_timeout: 30.0
  retry_attempts: 3
  heartbeat_interval: 60
  agent_timeout: 180

  # 消息配置
  message_queue_size: 1000
  message_timeout: 30.0
  message_routing_enabled: true

  # Agent 分组 (需要 password_hash)
  agent_groups:
    coordinators:
      description: "协调者 - 分派任务、整合结果"
      password_hash: "bf24385098410391a81d92b2de72d3a2946d24f42ee387e51004a868281a2408"  # password: coordinator
      metadata:
        permissions: ["create_projects", "delegate_tasks", "communicate_with_users"]
        agents:
          - "facilitator"

    experts:
      description: "专家 - 执行具体研究任务"
      password_hash: "3588bb7219b1faa3d01f132a0c60a394258ccc3049d8e4a243b737e62524d147"  # password: researcher
      metadata:
        permissions: ["execute_tasks", "report_results", "access_documents"]
        agents:
          - "literature-agent"
          - "critical-thinker"

    managers:
      description: "管理者 - 变更控制"
      password_hash: "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"  # password: manager
      metadata:
        permissions: ["create_pr", "merge_pr", "update_documents"]
        agents:
          - "pr-manager"

  # Mod 配置
  mods:
    # 默认工作空间
    - name: "openagents.mods.workspace.default"
      enabled: true
      config:
        custom_events_enabled: true

    # 项目管理
    - name: "openagents.mods.workspace.project"
      enabled: true
      config:
        max_concurrent_projects: 5

        project_templates:
          # 论文修改流程模板
          thesis_modification:
            name: "论文修改流程"
            description: "多专家协作的论文修改工作流"
            agent_groups: ["coordinators", "experts", "managers", "guest"]
            context: |
              论文修改工作流：
              
              1. Facilitator 接收用户修改请求
              2. 分析需求，分派给相关专家
              3. 专家返回分析结果
              4. Facilitator 整合形成共识
              5. PR Manager 生成变更请求
              
              重要约束：
              - 不直接修改 Draft.md
              - 不凭空捏造文献
              - 所有变更必须通过 PR

          # 文献阅读流程模板
          deep_reading:
            name: "深度阅读流程"
            description: "深入分析文献与研究的关联"
            agent_groups: ["coordinators", "experts", "guest"]
            context: |
              深度阅读工作流：
              1. 用户提供文献
              2. Literature Agent 结构化阅读
              3. Critical Thinker 批判性评估
              4. Facilitator 整合输出阅读笔记

          # 学术讨论流程模板
          academic_discussion:
            name: "学术讨论"
            description: "探索性的学术问题讨论"
            agent_groups: ["coordinators", "experts", "guest"]
            context: |
              学术讨论工作流：
              1. 用户提出问题
              2. Facilitator 分析问题
              3. 专家提供观点
              4. 形成共识或记录分歧

# 网络发现配置
network_profile:
  discoverable: false
  name: "Academic Research Network"
  description: "学术研究多Agent协作系统"
  tags:
    - "academic"
    - "research"
    - "thesis"
  categories:
    - "productivity"
    - "research"
  required_openagents_version: "0.6.13"
  capacity: 10
  authentication:
    type: "none"
  host: "localhost"
  port: 8700

# 全局设置
log_level: "INFO"
data_dir: "./data/academic-network"
runtime_limit: null
shutdown_timeout: 30
