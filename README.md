# 论文工程化协作系统

**用 PR 写论文，让 AI 成为你的研究伙伴。**

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

[English](README_EN.md) | [架构文档](ARCHITECTURE.md)

---

## ✨ 亮点

- 🔀 **PR 驱动** — 每次修改可追溯，告别"我当时为什么这么写"
- 🧠 **AI 有记忆** — 记住你的文献、偏好、研究进度
- 📚 **文献为证** — 禁止捏造，论据必须有出处
- ⚡ **斜杠命令** — `/create-pr`、`/deep-read` 等标准化操作

---

## 🎯 这个项目解决什么问题？

写论文时你是否遇到过：

- 改了一段话，忘了当初为什么这么写
- 让 AI 帮忙，它给的建议脱离你的研究语境
- 文献越积越多，不知道哪些真正相关

这个系统把**版本控制**和**AI 记忆**结合起来。每次修改都是一个 PR，AI 了解你的整个项目。

---

## 🚀 快速开始

```bash
# 1. 克隆仓库
git clone https://github.com/your-username/thesis-project.git

# 2. 设置 API 密钥（PDF 转换用）
export DATALAB_API_KEY=your_key

# 3. 转换你的 PDF 文献
cp *.pdf Reference/PDF-MD/pdfs/
python Reference/PDF-MD/convert_api.py

# 4. 开始使用
# 在 AI IDE 中输入 /start 加载上下文
```

---

## 📖 使用示例

**创建修改请求：**
```
/create-pr
```
AI 会询问你要改什么、为什么改，然后生成一个结构化的 PR 文件。

**深度阅读文献：**
```
/deep-read Reference/PDF-MD/output_api/某篇论文.md
```
输出结构化笔记：核心论点、方法、与你研究的关联。

**向学术 AI 提问：**
```
/ask-academic-ai
```
使用四部分模板（背景、问题、期望、约束）获得精准回答。

---

## 📁 项目结构

```
├── Target/Draft.md      # 论文正文（通过 PR 修改）
├── Reference/           # 文献库（PDF → Markdown）
├── PR/                  # 修改请求记录
├── Consensus/           # 学术讨论记录
├── MEMORY.md            # AI 记忆（偏好、洞见）
└── .agent/              # AI 规则与工作流
```

---

## 🛠️ 开发历程

### 起源

这个项目始于一个简单的问题：**为什么软件工程早就告别了线性开发，学术写作却还在坚持"从头写到尾，写完再改"？**

2025年12月，我开始尝试把版本控制、代码审查的思路搬到论文里来。第一个版本只有基础的 PR 系统和文献转换。

### 遇到的问题

在实际使用中，我发现了几个核心痛点：

**1. 记忆系统是最大的坑**

最初的 `MEMORY.md` 需要手动维护。AI 该记的没记，不该记的记了。后来引入了 Mem0 向量记忆系统，让 AI 自己判断什么值得记住。

**2. 文献检索太浅**

问 AI "文献里有没有提到 X"，它说没有，实际上有。原因是缺乏分层索引——应该像人一样：先看摘要知道大概 → 再定位具体章节 → 再精读段落。

**3. 各层之间是信息孤岛**

PR、Consensus、Reference 都是静态文件，它们不知道彼此的存在。改了一个地方，其他地方不会自动同步。这正是 Multi-Agent 架构可以解决的问题——每个 Agent 负责一层，Agent 之间可以通信。

**4. "部分遵循"问题**

AI 有时候只执行工作流的一部分，忘了后面的步骤。长对话中尤其明显。后来加了 `/sync` 和 `/reflect` 工作流，强制先评估"值不值得做"。

### 核心设计原则

**负面约束比正面指导更重要**

与其告诉 AI "你应该怎么做"，不如明确"你绝对不能做什么"：
- ❌ 禁止直接编辑 Draft.md
- ❌ 禁止凭空捏造文献
- ❌ 禁止只给结论不给颗粒度

这些禁令写在 `.agent/rules/` 里，比长篇的正面指导更有效。

**文献是真相，讨论是中心**

所有论据必须能追溯到 `Reference/` 里的具体文献。所有洞见都来自对话记录。凭空捏造是被禁止的。

### 一个有趣的发现

这个项目本身就是它研究的现象的实例。

我的论文研究的是：Z世代员工通过掌握 AI 素养这种"稀缺资源"，获得了感知资源优势，从而能够向上影响上级。

而我做这个项目的过程是：通过掌握"工程化学术生产"这种稀缺资源（大部分学生不会这样做论文），获得了某种感知资源优势，从而能够向上影响导师对"什么是好的学术工作"的定义。

**这种自指性（self-referential）是意外的收获。**

### 经验教训

记在 `MEMORY.md` 里的踩坑记录：

- 简单直接的问题往往比精心设计的长 prompt 更有效
- 合并 PR 时容易遗漏参考文献——后来加了强制 checklist
- 论文修改不能孤立，新内容要和已有引用呼应
- 不是所有文献都要下载，识别比收集更重要
- AI 的记忆不是"自动发生"的，需要机制让它自己知道什么值得记

---

## 🔮 未来方向

- **开源**：清理敏感信息后发布
- **多智能体**：用 OpenAgents 实现各层之间的自动协调
- **可追溯性**：每个论点链接到文献原文的具体段落
- **交互式论文**：把论文做成可交互的网页版

---

## 🤝 参与贡献

- 发现问题？[提 Issue](../../issues)
- 有想法？Fork 后提 PR
- 觉得有用？给个 ⭐

---

## 📜 License

MIT
