# Academic Research Network - å¼€å‘æŒ‡å—

> åŸºäºå¯¹ OpenAgents æ·±å…¥åˆ†æåçš„å®Œæ•´å¼€å‘è·¯çº¿å›¾
> ç‰ˆæœ¬: 1.0 | æ›´æ–°æ—¥æœŸ: 2025-12-25

---

## 1. æ ¸å¿ƒæ¶æ„ç†è§£

### OpenAgents çš„æœ¬è´¨
ä¸æ˜¯"èŠå¤©æœºå™¨äººæ¡†æ¶"ï¼Œè€Œæ˜¯ **Agent Network åŸºç¡€è®¾æ–½**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Network (é€šä¿¡ç©ºé—´)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        Mods (èƒ½åŠ›æ¨¡å—)                         â”‚  â”‚
â”‚  â”‚   messaging   â”‚   forum   â”‚   project   â”‚   wiki   â”‚ default  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â–²                                     â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚          â”‚                    â”‚                    â”‚               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”           â”‚
â”‚     â”‚  Agent  â”‚         â”‚  Agent  â”‚         â”‚  Agent  â”‚           â”‚
â”‚     â”‚ (YAML)  â”‚         â”‚(Python) â”‚         â”‚ (Human) â”‚           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                  â†‘                  â”‚
â”‚                                              Studio                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æ¦‚å¿µå¯¹ç…§è¡¨

| æ¦‚å¿µ | åœ¨ OpenAgents ä¸­ | åœ¨æˆ‘ä»¬é¡¹ç›®ä¸­ |
|------|------------------|-------------|
| Network | é€šä¿¡å®¹å™¨ | academic_network |
| Agent | å‚ä¸è€…ï¼ˆPythonæˆ–YAMLå®šä¹‰ï¼‰ | Literature, Critical Thinker... |
| Mod | èƒ½åŠ›æ‰©å±•æ¨¡å— | messaging, project, è‡ªå®šä¹‰Document Mod |
| Event | ä¸€åˆ‡äº¤äº’çš„è½½ä½“ | `task.delegate`, `task.complete`, è‡ªå®šä¹‰äº‹ä»¶ |
| Workspace | åä½œç©ºé—´æŠ½è±¡ | channels, files, forum |
| Studio | äººç±»ç•Œé¢ | æˆ‘ä»¬ç”¨æ¥è§‚å¯Ÿå’Œå‚ä¸çš„Web UI |

---

## 2. æˆ‘ä»¬è¦å¼€å‘ä»€ä¹ˆ

### ç›®æ ‡æ¶æ„ï¼ˆç±»æ¯” Research Team Demoï¼‰

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    ç”¨æˆ·è¯·æ±‚        â”‚   Facilitator       â”‚
  "ä¿®æ”¹æ–¹æ³•è®º" â”€â”€â”€â”€â–¶â”‚  (åè°ƒè€… Router)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ event: task.delegate
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
            â–¼                  â–¼                  â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Literature â”‚    â”‚  Critical  â”‚    â”‚   Method   â”‚
     â”‚   Agent    â”‚    â”‚  Thinker   â”‚    â”‚   Expert   â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                 â”‚                 â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ event: task.complete
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    PR Manager       â”‚
                    â”‚  (ç”Ÿæˆä¿®æ”¹è¯·æ±‚ PR)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Agent è§’è‰²ä¸èŒè´£

| Agent ID | è§’è‰² | è§¦å‘äº‹ä»¶ | è¾“å‡º |
|----------|------|---------|------|
| `facilitator` | åè°ƒè€… | `project.started`, `task.complete` | åˆ†é…ä»»åŠ¡ç»™å…¶ä»–Agent |
| `literature-agent` | æ–‡çŒ®ä¸“å®¶ | `task.delegate` (æŸ¥è¯¢æ–‡çŒ®) | æ–‡çŒ®æ‘˜è¦ã€ç›¸å…³å¼•ç”¨ |
| `critical-thinker` | æ‰¹åˆ¤è€… | `task.delegate` (å®¡æŸ¥è®ºç‚¹) | è´¨ç–‘ç‚¹ã€é€»è¾‘æ¼æ´ |
| `method-expert` | æ–¹æ³•é¡¾é—® | `task.delegate` (æ–¹æ³•è®ºé—®é¢˜) | æ–¹æ³•å»ºè®®ã€è®¾è®¡è¯„ä¼° |
| `pr-manager` | å˜æ›´ç®¡ç† | `consensus.reached` | ç”ŸæˆPRæ–‡ä»¶ |

---

## 3. å¼€å‘è·¯å¾„é€‰æ‹©

### æ–¹å¼ä¸€ï¼šYAML Agentï¼ˆæ¨èèµ·æ­¥ï¼‰
**é€‚åˆ**ï¼šå¿«é€ŸéªŒè¯ã€é…ç½®é©±åŠ¨ã€æ— éœ€å¤æ‚é€»è¾‘

```yaml
# academic_network/agents/literature_agent.yaml
type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "literature-agent"

config:
  model_name: "gpt-4o-mini"
  max_iterations: 5
  
  instruction: |
    ä½ æ˜¯å­¦æœ¯ç ”ç©¶å›¢é˜Ÿçš„æ–‡çŒ®ä¸“å®¶ã€‚
    
    ä½ å¯ä»¥ï¼š
    - æ ¹æ®ç ”ç©¶é—®é¢˜æ¨èæ–‡çŒ®
    - ç”Ÿæˆç»“æ„åŒ–æ‘˜è¦
    - æ¯”è¾ƒä¸åŒæ–‡çŒ®è§‚ç‚¹
    
    ä½ ä¸èƒ½ï¼š
    âŒ å‡­ç©ºç¼–é€ æ–‡çŒ®
    âŒ è¯„åˆ¤æ–‡çŒ®å­¦æœ¯ä»·å€¼
    âŒ ç›´æ¥ä¿®æ”¹è®ºæ–‡

  react_to_all_messages: false
  
  triggers:
    - event: "task.delegate"
      instruction: |
        æ”¶åˆ°æ–‡çŒ®æŸ¥è¯¢ä»»åŠ¡ã€‚ä» payload.query è·å–æŸ¥è¯¢å†…å®¹ã€‚
        1. åˆ†ææŸ¥è¯¢ï¼Œæ‰¾å‡ºæœ€ç›¸å…³çš„æ–‡çŒ®
        2. ç”Ÿæˆç»“æ„åŒ–æ‘˜è¦
        3. send_event("task.complete", "facilitator", {results: "..."})
        4. finish()

mods:
  - name: "openagents.mods.workspace.project"
    enabled: true
  - name: "openagents.mods.workspace.default"
    enabled: true

connection:
  host: "localhost"
  port: 8700
  transport: "grpc"
```

### æ–¹å¼äºŒï¼šPython Agentï¼ˆå¯æ‰©å±•ï¼‰
**é€‚åˆ**ï¼šéœ€è¦è®¿é—®æœ¬åœ°æ–‡ä»¶ã€å¤æ‚é€»è¾‘ã€å¤–éƒ¨APIé›†æˆ

```python
# academic_network/agents/literature_agent.py
from openagents.agents.worker_agent import WorkerAgent, on_event
from openagents.models.agent_config import AgentConfig
from openagents.models.event_context import EventContext
import os

class LiteratureAgent(WorkerAgent):
    default_agent_id = "literature-agent"
    
    async def on_startup(self):
        """Agent å¯åŠ¨æ—¶è°ƒç”¨"""
        ws = self.workspace()
        await ws.channel("general").post("ğŸ“š Literature Agent ä¸Šçº¿")
    
    @on_event("task.delegate")
    async def handle_task(self, context: EventContext):
        """å¤„ç†æ–‡çŒ®æŸ¥è¯¢ä»»åŠ¡"""
        payload = context.incoming_event.payload
        query = payload.get("query", "")
        
        # è®¿é—®æœ¬åœ°æ–‡çŒ®åº“
        results = await self.search_local_references(query)
        
        # ä½¿ç”¨LLMç”Ÿæˆæ‘˜è¦
        summary = await self.run_agent(
            context=context,
            instruction=f"ä¸ºä»¥ä¸‹æŸ¥è¯¢ç”Ÿæˆæ–‡çŒ®æ‘˜è¦: {query}\næ‰¾åˆ°çš„æ–‡çŒ®: {results}"
        )
        
        # å‘é€å®Œæˆäº‹ä»¶
        ws = self.workspace()
        await ws.send_event(
            event_name="task.complete",
            destination_id="facilitator",
            payload={"task_id": payload.get("task_id"), "results": summary}
        )
    
    async def search_local_references(self, query: str) -> str:
        """æœç´¢æœ¬åœ° Reference/ æ–‡ä»¶å¤¹"""
        ref_path = "d:/Profolio/æ–‡ç« /Thesis/Graduate-thesis/Reference/PDF-MD/output_api"
        results = []
        
        for filename in os.listdir(ref_path):
            if filename.endswith(".md"):
                filepath = os.path.join(ref_path, filename)
                with open(filepath, "r", encoding="utf-8") as f:
                    content = f.read()
                    if query.lower() in content.lower():
                        results.append(filename)
        
        return "\n".join(results[:5])  # è¿”å›å‰5ä¸ª

if __name__ == "__main__":
    agent = LiteratureAgent(agent_config=AgentConfig(
        model_name="gpt-4o-mini",
        instruction="ä½ æ˜¯æ–‡çŒ®ä¸“å®¶ï¼Œå¸®åŠ©ç ”ç©¶è€…æ‰¾åˆ°ç›¸å…³æ–‡çŒ®ã€‚"
    ))
    agent.start(network_host="localhost", network_port=8700)
    agent.wait_for_stop()
```

---

## 4. Network é…ç½®

```yaml
# academic_network/network.yaml
network:
  name: "AcademicResearchNetwork"
  mode: "centralized"
  node_id: "academic-network-1"

  transports:
    - type: "http"
      config:
        port: 8700
        serve_studio: true
        serve_mcp: true
    - type: "grpc"
      config:
        port: 8600

  agent_groups:
    coordinators:
      description: "åè°ƒè€… (Facilitator)"
      password_hash: "xxx"  # éœ€è¦ç”Ÿæˆ
      metadata:
        permissions: ["create_projects", "delegate_tasks"]
        agents: ["facilitator"]
    
    experts:
      description: "ä¸“å®¶ Agents"
      password_hash: "xxx"
      metadata:
        permissions: ["execute_tasks", "report_results"]
        agents: ["literature-agent", "critical-thinker", "method-expert"]
    
    managers:
      description: "å˜æ›´ç®¡ç†"
      metadata:
        agents: ["pr-manager"]

  mods:
    - name: "openagents.mods.workspace.default"
      enabled: true
      config:
        custom_events_enabled: true
    
    - name: "openagents.mods.workspace.messaging"
      enabled: true
      config:
        default_channels:
          - name: "general"
            description: "ç»¼åˆè®¨è®º"
          - name: "literature"
            description: "æ–‡çŒ®è®¨è®º"
          - name: "methodology"
            description: "æ–¹æ³•è®ºè®¨è®º"
    
    - name: "openagents.mods.workspace.project"
      enabled: true
      config:
        project_templates:
          thesis_modification:
            name: "è®ºæ–‡ä¿®æ”¹æµç¨‹"
            description: "å¤šä¸“å®¶åä½œçš„è®ºæ–‡ä¿®æ”¹"
            agent_groups: ["coordinators", "experts", "managers"]
            context: |
              è®ºæ–‡ä¿®æ”¹å·¥ä½œæµï¼š
              1. Facilitator æ¥æ”¶ä¿®æ”¹è¯·æ±‚
              2. åˆ†é…ä»»åŠ¡ç»™ç›¸å…³ä¸“å®¶
              3. ä¸“å®¶è¿”å›åˆ†æç»“æœ
              4. Facilitator æ•´åˆå½¢æˆå…±è¯†
              5. PR Manager ç”Ÿæˆå˜æ›´å•

network_profile:
  discoverable: false
  name: "Academic Research Network"
  description: "å¤šAgentåä½œçš„å­¦æœ¯ç ”ç©¶åŠ©æ‰‹"
```

---

## 5. å¼€å‘æ­¥éª¤

### Phase 1: æœ€å°å¯è¡ŒéªŒè¯ (MVP)
ç›®æ ‡ï¼šè®© 2 ä¸ª Agent èƒ½å¯¹è¯

1. [ ] ä¿®æ”¹ `academic_network/network.yaml`
2. [ ] åˆ›å»º `facilitator.yaml` (YAML Agent)
3. [ ] åˆ›å»º `literature_agent.yaml` (YAML Agent)
4. [ ] å¯åŠ¨ Network â†’ å¯åŠ¨ä¸¤ä¸ª Agent â†’ åœ¨ Studio æµ‹è¯•

éªŒè¯æ ‡å‡†ï¼š
- åœ¨ Studio åˆ›å»º Project
- Facilitator æ”¶åˆ° `project.started` äº‹ä»¶
- Facilitator å‘é€ `task.delegate` ç»™ Literature Agent
- Literature Agent è¿”å› `task.complete`

### Phase 2: å¢åŠ å¯¹æŠ—æ€§
ç›®æ ‡ï¼šCritical Thinker èƒ½è´¨ç–‘ Literature Agent çš„è¾“å‡º

1. [ ] åˆ›å»º `critical_thinker.yaml`
2. [ ] ä¿®æ”¹ Facilitator çš„è§¦å‘å™¨ï¼Œåœ¨æ”¶åˆ° Literature ç»“æœåè½¬ç»™ Critical Thinker
3. [ ] æµ‹è¯•å¯¹æŠ—æ€§å¯¹è¯

### Phase 3: é›†æˆæœ¬åœ°æ–‡ä»¶
ç›®æ ‡ï¼šAgent èƒ½è¯»å– Reference/ å’Œ PR/ æ–‡ä»¶

1. [ ] å°† Literature Agent æ”¹ä¸º Python Agent
2. [ ] å®ç° `search_local_references()` æ–¹æ³•
3. [ ] å®ç° PR Manager çš„ `create_pr()` æ–¹æ³•

### Phase 4: å®Œæ•´æµç¨‹
ç›®æ ‡ï¼šå®Œæˆä»"ç”¨æˆ·è¯·æ±‚"åˆ°"ç”ŸæˆPR"çš„å…¨æµç¨‹

1. [ ] ä¸²è”æ‰€æœ‰ Agent
2. [ ] å½•åˆ¶æ¼”ç¤ºè§†é¢‘
3. [ ] å‡†å¤‡ GitHub æäº¤

---

## 6. å¸¸ç”¨ API é€ŸæŸ¥

### Workspace API
```python
ws = self.workspace()

# é¢‘é“æ“ä½œ
await ws.channel("general").post("æ¶ˆæ¯å†…å®¹")
await ws.channel("general").reply(message_id, "å›å¤å†…å®¹")

# ç›´æ¥æ¶ˆæ¯
await ws.agent("other-agent").send("ç§ä¿¡å†…å®¹")

# è‡ªå®šä¹‰äº‹ä»¶
await ws.send_event(
    event_name="task.delegate",
    destination_id="literature-agent",
    payload={"query": "ç ”ç©¶é—®é¢˜"}
)
```

### äº‹ä»¶è£…é¥°å™¨
```python
from openagents.agents.worker_agent import on_event

@on_event("task.delegate")
async def handle_task(self, context: EventContext):
    payload = context.incoming_event.payload
    source = context.source_id
```

### LLM è°ƒç”¨
```python
await self.run_agent(
    context=context,
    instruction="ä½ çš„æç¤ºè¯"
)
```

---

## 7. å…³é”®æ–‡ä»¶ä½ç½®

```
Graduate-thesis/
â”œâ”€â”€ academic_network/           # OpenAgents Network æ ¹ç›®å½•
â”‚   â”œâ”€â”€ network.yaml           # ç½‘ç»œé…ç½®
â”‚   â”œâ”€â”€ agents/                # Agent å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ facilitator.yaml
â”‚   â”‚   â”œâ”€â”€ literature_agent.yaml (æˆ–.py)
â”‚   â”‚   â”œâ”€â”€ critical_thinker.yaml
â”‚   â”‚   â””â”€â”€ pr_manager.yaml
â”‚   â””â”€â”€ tools/                 # è‡ªå®šä¹‰å·¥å…·
â”‚       â””â”€â”€ file_access.py
â”œâ”€â”€ Reference/                  # æ–‡çŒ®åº“ï¼ˆAgent éœ€è¦è®¿é—®ï¼‰
â”œâ”€â”€ PR/                        # PR æ–‡ä»¶ï¼ˆAgent éœ€è¦å†™å…¥ï¼‰
â””â”€â”€ start_all.ps1              # ä¸€é”®å¯åŠ¨è„šæœ¬
```

---

## 8. ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³å¯åš**ï¼š
1. ç”¨ä½ ç°æœ‰çš„ `start_all.ps1` å¯åŠ¨ç¯å¢ƒ
2. ä¿®æ”¹ `academic_network/network.yaml` åŠ å…¥ project mod
3. åˆ›å»º `facilitator.yaml` ä½œä¸º Router
4. åœ¨ Studio ä¸­åˆ›å»ºä¸€ä¸ª Project æµ‹è¯•

**éœ€è¦æˆ‘å¸®å¿™**ï¼š
- ç”Ÿæˆå®Œæ•´çš„ YAML Agent é…ç½®
- ç¼–å†™ Python Agent æ¨¡æ¿
- è°ƒè¯•äº‹ä»¶æµ
