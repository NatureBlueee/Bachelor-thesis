# 论文协作系统增强方案

> **状态**：Planning
> **创建**：2025-12-19
> **目的**：梳理如何增强现有系统，独立于参赛

---

## 核心定位回顾

从 Reflections 文档提炼的本质：

> **把隐性思考显性化、把随意修改结构化、把临时对话持久化、把人机协作规范化**

这不是"论文工具"，是一种**工作方法论**。

---

## 当前系统组件

| 层 | 文件 | 功能 | 成熟度 |
|----|------|------|--------|
| 规则层 | `.agent/rules/` | AI行为约束 | ⭐⭐⭐ 完善 |
| 工作流层 | `.agent/workflows/` | 操作流程 | ⭐⭐⭐ 完善 |
| 知识层 | `Reference/` | 文献库 | ⭐⭐⭐ 完善 |
| 讨论层 | `Consensus/` | 学术问答 | ⭐⭐ 基本可用 |
| 变更层 | `PR/` | 修改管理 | ⭐⭐⭐ 完善 |
| 产出层 | `Target/` | 论文正文 | ⭐⭐⭐ 完善 |
| 记忆层 | `MEMORY.md` | AI笔记 | ⭐ 需升级 |
| 进度层 | `_CONTEXT.md` | 研究进度 | ⭐⭐ 基本可用 |

---

## 增强优先级

### P0：记忆系统升级（立即可做）

**现状**：单一的 `MEMORY.md` 文件，手动维护

**问题**：
- 没有自动沉淀"成功/失败模式"
- 没有区分长期/短期记忆
- 每次对话都加载全部内容，效率低

**方案A：使用 OpenMemory MCP（推荐）**

```bash
# 一行命令集成到Cursor
npx @openmemory/install --client cursor --env OPENMEMORY_API_KEY=your-key
```

暴露的工具：
- `add_memories` → 存储新记忆
- `search_memory` → 检索相关记忆
- `list_memories` → 查看所有记忆

**集成后的使用方式**：
- 在对话中说"记住这个"，AI自动调用 `add_memories`
- 在新对话开始时，AI自动调用 `search_memory` 检索相关上下文

**方案B：自建分层记忆结构（备选）**

```
MEMORY/
├── core.md          # 核心认知（用户偏好、项目定位）—— 几乎不变
├── session.md       # 当前会话状态 —— 每次对话清空
├── insights.md      # 形成的洞见 —— 持续积累
└── patterns.md      # 成功/失败模式 —— AI自动沉淀
```

### P1：文献索引空间化

**现状**：`Reference/_INDEX.md` 是简单的文献列表

**问题**：50+篇文献时，很难一眼看出"哪些支撑P1、哪些支撑P4"

**方案**：按理论框架分组

```markdown
## 文献地图

### 资源依赖理论 (P1, P2, P3)
- Pfeffer & Salancik (1978) - 原始理论
- Tripathi (2021) - 员工层面扩展 ← **核心**

### AI素养 (自变量)
- 钟柏昌 (2024) - 三维框架定义
- Ng et al. (2023) - ABCE模型

### Z世代特征 (调节机制)
- Schroth (2019) - 尊重=被倾听
- Seemiller & Grace (2016) - 数字原住民
```

### P2：元规划工作流

**现状**：写新章节是"想到哪写到哪，边写边开PR"

**方案**：新增 `/plan-chapter` 工作流

```markdown
## Chapter 4 写作规划

### 结构
- 4.1 Participant Overview (预估 1 PR)
- 4.2 Theme 1: [待定] (预估 2 PR)

### 依赖检查
- [ ] 访谈数据完成？
- [ ] 编码方案确定？

### 预计文献需求
- 主题分析方法论 → Braun & Clarke OK
- Z世代职场心态 → Schroth OK
```

### P3：可追溯性增强

**现状**：引用格式是 `(Author, Year)`，但没有直接链接到文献原文

**方案**：在 Draft.md 里，每个核心论点标注文献卡片链接

```markdown
Tripathi (2021) argues that employees can be "hosts of tacit resources"
[[→ Reference/PDF-MD/output_api/Tripathi_2021.md#L45-L67]]
```

点击可直接跳到文献原文的具体段落。

---

## 技术参考

从灵感报告提炼的可借鉴项目：

| 项目 | 借鉴点 | 难度 |
|------|--------|------|
| **Mem0/OpenMemory** | 分层记忆、MCP集成 | ⭐ 简单 |
| **data-to-paper** | 可追溯性设计 | ⭐⭐ 中等 |
| **Upwelling** | 浮动草稿概念（替代Git PR） | ⭐⭐⭐ 复杂 |
| **RD-Agent** | 演化知识库（自动沉淀成功模式） | ⭐⭐ 中等 |
| **FlowTask** | 元规划（结构化生成任务蓝图） | ⭐ 简单 |

---

## 行动计划

### 本周（12月19日-25日）
- [ ] 注册 OpenMemory，获取 API Key
- [ ] 在 Cursor 集成 OpenMemory MCP
- [ ] 测试：在对话中使用 add_memories / search_memory
- [ ] 重构 `Reference/_INDEX.md` 为分组结构

### 下周（12月26日-31日）
- [ ] 创建 `/plan-chapter` 工作流
- [ ] 试用：用工作流规划 Chapter 4
- [ ] （如果参赛）启动 OpenAgents 环境

### 长期（2025年1月+）
- [ ] 探索可追溯性增强
- [ ] 探索自动模式沉淀
- [ ] 考虑开源

---

## 笔记

> 核心问题是增强**记忆能力**和**多步思考能力**，去研究深入的东西。
> 
> 这个过程中需要**长期记忆和短期记忆的结合**，还有**预定好的提示词**。

——用户，2025-12-19
