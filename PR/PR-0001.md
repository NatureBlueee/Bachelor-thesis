# PR-0001: 建立论文协作架构系统

## 基本信息

- **编号**: PR-0001
- **创建日期**: 2024-12-14
- **状态**: merged
- **类型**: 架构设计（非论文修改）
- **合并日期**: 2024-12-14

---

## 背景

在论文写作过程中，发现与AI协作存在以下问题：
1. Consensus（学术AI）的回答太"结论性"，缺乏颗粒度
2. 缺乏系统化的工作流程（提问→分析→添加文献→阅读→讨论→修改）
3. 每次新对话都需要重新解释项目背景
4. 没有记录用户偏好和讨论洞见的机制

## 解决方案

建立完整的**论文协作架构系统**，包括：

### 1. Rules（4个规则文件）

| 文件 | 用途 |
|------|------|
| `thesis_project.md` | 项目规则 + 讨论人设 + 自动笔记行为 |
| `consensus.md` | 学术AI问答规则（四部分模板） |
| `writing.md` | 论文写作规则（PR流程） |
| `context_update.md` | Context更新触发时机 |

### 2. Workflows（6个工作流）

| 文件 | 命令 | 用途 |
|------|------|------|
| `ask_academic_ai.md` | `/ask_academic_ai` | 向学术AI提问 |
| `analyze_answer.md` | `/analyze_answer` | 分析答案+分类文献 |
| `add_paper.md` | `/add_paper` | 添加PDF文献 |
| `deep_read.md` | `/deep_read` | AI批判性阅读 |
| `create_pr.md` | `/create_pr` | 创建PR |
| `merge_pr.md` | `/merge_pr` | 合并PR |

### 3. Memory机制

| 文件 | 用途 |
|------|------|
| `MEMORY.md` | AI讨论笔记（用户偏好、洞见、待解决问题） |

---

## 设计原则

基于**元提示词工程最佳实践**：

1. **WHAT-WHY-HOW框架**：项目身份→理论框架→操作方式
2. **XML标签隔离**：`<context>`, `<rules>`, `<memory_behavior>`
3. **明确禁止（Negative Constraints）**：集中列出"不要做什么"
4. **思维链（Chain of Thought）**：6步推理框架
5. **协作规范**：何时提问/遇到分歧/何时暂停
6. **理想输出示例**：One Shot示范

---

## 文件变更清单

### 新增文件

```
Graduate-thesis/
├── MEMORY.md                         [NEW]
├── .agent/
│   ├── rules/
│   │   ├── thesis_project.md         [NEW/UPDATED]
│   │   ├── writing.md                [NEW]
│   │   └── context_update.md         [NEW]
│   └── workflows/
│       ├── ask_academic_ai.md        [NEW]
│       ├── analyze_answer.md         [NEW]
│       ├── add_paper.md              [NEW]
│       ├── deep_read.md              [NEW]
│       ├── create_pr.md              [NEW]
│       └── merge_pr.md               [NEW]
```

### 临时文件（可删除）

- `_AGENT_FILES.md` - 原始Rules/Workflows内容汇总
- `_OPTIMIZED_RULES.md` - 优化版thesis_project.md
- `example.md` - Antigravity格式示例（已学习完成）
- `AI-Memory-Research-Guide.md` - AI Memory研究报告（已整合）

---

## 参考资料

- Anthropic元提示词工程指南
- Claude Memory机制设计
- ChatGPT Memory特性
- 用户AI Memory研究报告

---

## 后续计划

1. 删除临时文件
2. 使用`/ask_academic_ai`重新提问CON-0001
3. 测试各Workflow是否正常触发
4. 根据实践迭代优化规则
